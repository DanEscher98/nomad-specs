# =============================================================================
# NOMAD Protocol Conformance Test Environment
# =============================================================================
#
# Usage:
#   cp env-vars docker/.env
#   source docker/.env
#   cd docker && docker compose up -d
#   cd ../tests && uv run pytest -m container
#
# =============================================================================

# -----------------------------------------------------------------------------
# Implementation Build Settings (Rust echo example)
# -----------------------------------------------------------------------------
# Build context relative to docker/ directory
SERVER_CONTEXT=rs-impl
SERVER_DOCKERFILE=examples/echo/Dockerfile
SERVER_TARGET=server

CLIENT_CONTEXT=rs-impl
CLIENT_DOCKERFILE=examples/echo/Dockerfile
CLIENT_TARGET=client

# -----------------------------------------------------------------------------
# Cryptographic Keys (Test Only - DO NOT USE IN PRODUCTION)
# -----------------------------------------------------------------------------
# Deterministic test keypair from Rust reference implementation
# Server generates this when NOMAD_TEST_MODE=true
SERVER_PRIVATE_KEY=SAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHn8=
SERVER_PUBLIC_KEY=gqNRjwG8OsClvG2vWuafYeERaM95Pk0rTLmFAjh6JDo=

# -----------------------------------------------------------------------------
# Protocol Settings
# -----------------------------------------------------------------------------
NOMAD_STATE_TYPE=nomad.echo.v1
NOMAD_LOG_LEVEL=debug
NOMAD_PORT=19999

# -----------------------------------------------------------------------------
# Docker Network Settings
# -----------------------------------------------------------------------------
NOMAD_TEST_NETWORK=nomad-conformance-net
NOMAD_TEST_SUBNET=172.31.0.0/16
NOMAD_TEST_SERVER_IP=172.31.0.10
NOMAD_TEST_CLIENT_IP=172.31.0.20
NOMAD_TEST_INTERFACE=eth0

# -----------------------------------------------------------------------------
# Container Names
# -----------------------------------------------------------------------------
NOMAD_SERVER_CONTAINER=nomad-test-server
NOMAD_CLIENT_CONTAINER=nomad-test-client
NOMAD_TCPDUMP_CONTAINER=nomad-test-tcpdump
